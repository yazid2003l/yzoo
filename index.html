<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>حاسبة العمر بالهجري والميلادي</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">
  <style>
    :root {
      --main-gradient: linear-gradient(120deg, #6e8efb 0%, #a777e3 100%);
      --main-color: #6e8efb;
      --accent-color: #a777e3;
      --bg-light: #f7f7fa;
      --white: #fff;
      --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      --radius: 18px;
      --transition: 0.25s cubic-bezier(.4,2,.6,1);
    }
    body {
      font-family: 'Cairo', Arial, sans-serif;
      background: var(--main-gradient);
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    header {
      width: 100vw;
      background: var(--main-gradient);
      color: var(--white);
      padding: 2rem 0 1.2rem 0;
      text-align: center;
      box-shadow: 0 2px 16px #6e8efb22;
      margin-bottom: 0.5rem;
    }
    header .icon {
      width: 60px;
      margin-bottom: 0.5rem;
      filter: drop-shadow(0 2px 6px #0001);
    }
    header h1 {
      font-size: 2.2rem;
      font-weight: 800;
      margin: 0.2rem 0 0.5rem 0;
      letter-spacing: 1px;
    }
    header p {
      font-size: 1.1rem;
      opacity: 0.92;
      margin: 0;
    }
    .container {
      background: var(--white);
      padding: 2.2rem 2.2rem 1.5rem 2.2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      max-width: 410px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 2rem;
      animation: fadeIn 1s;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    form {
      width: 100%;
      margin-top: 1rem;
    }
    .input-group {
      margin-bottom: 1.2rem;
      position: relative;
    }
    .input-group label {
      color: #3a3a3a;
      font-weight: 600;
      font-size: 1.08rem;
      margin-bottom: 0.4rem;
      display: block;
      margin-right: 2.2rem;
    }
    .input-icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--main-color);
      font-size: 1.2rem;
      opacity: 0.7;
      pointer-events: none;
    }
    select, input[type="date"], input[type="number"] {
      width: 100%;
      padding: 0.8rem 2.2rem 0.8rem 0.8rem;
      border: 1.5px solid #e0e0e0;
      border-radius: 10px;
      font-size: 1.05rem;
      background: #f8faff;
      transition: border var(--transition), box-shadow var(--transition);
      outline: none;
      margin-top: 0.2rem;
      box-sizing: border-box;
    }
    select:focus, input:focus {
      border: 1.5px solid var(--main-color);
      background: #f0f6ff;
      box-shadow: 0 2px 8px #6e8efb22;
    }
    .hijri-fields {
      display: flex;
      gap: 8px;
      margin-top: 0.2rem;
    }
    .hijri-fields input {
      flex: 1;
      min-width: 0;
    }
    button[type="submit"] {
      width: 100%;
      padding: 0.9rem;
      background: var(--main-gradient);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1.15rem;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 2px 8px #6e8efb33;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
      transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
    }
    button[type="submit"]:hover {
      background: linear-gradient(120deg, #a777e3 0%, #6e8efb 100%);
      box-shadow: 0 4px 16px #a777e344;
      transform: translateY(-2px) scale(1.03);
    }
    .result {
      background: #f0f6ff;
      padding: 1.3rem 1rem;
      border-radius: 12px;
      margin-top: 1.3rem;
      text-align: center;
      color: #1a2a3a;
      font-size: 1.13rem;
      box-shadow: 0 2px 8px #6e8efb11;
      min-width: 80%;
      line-height: 2.1;
      animation: fadeIn 1s;
    }
    .result hr {
      border: none;
      border-top: 1.5px dashed #a777e3;
      margin: 12px 0;
    }
    .ad-box {
      width: 100%;
      max-width: 400px;
      min-height: 60px;
      background: #fffbe6;
      border: 1.5px dashed #ffd700;
      color: #bfa100;
      border-radius: 10px;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #ffd70022;
      text-align: center;
      transition: background 0.2s;
      margin-top: 2rem;
    }
    .ad-box:hover {
      background: #fff3b0;
    }
    @media (max-width: 600px) {
      .container {
        padding: 1.1rem 0.3rem 1rem 0.3rem;
        max-width: 99vw;
      }
      .result {
        font-size: 1rem;
      }
      header h1 {
        font-size: 1.3rem;
      }
    }
  </style>
  <!-- أيقونات FontAwesome مجانية -->
  <script src="https://kit.fontawesome.com/4b7e5b6e8a.js" crossorigin="anonymous"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4296428555610223"
     crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <img class="icon" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="عمر">
    <h1>حاسبة العمر بالهجري والميلادي</h1>
    <p>احسب عمرك بدقة واكتشف تفاصيل مشوقة عن حياتك!</p>
  </header>
  <div class="container">
    <form id="ageForm" onsubmit="return false;">
      <div class="input-group">
        <label for="calendarType">نوع التاريخ:</label>
        <span class="input-icon"><i class="fa-solid fa-calendar-days"></i></span>
        <select id="calendarType">
          <option value="gregorian">ميلادي</option>
          <option value="hijri">هجري</option>
        </select>
      </div>
      <div id="gregorianInput" class="input-group">
        <label for="birthDate">تاريخ الميلاد (ميلادي):</label>
        <span class="input-icon"><i class="fa-solid fa-calendar-plus"></i></span>
        <input type="date" id="birthDate" required>
      </div>
      <div id="hijriInput" class="input-group" style="display:none;">
        <label>تاريخ الميلاد (هجري):</label>
        <div class="hijri-fields">
          <input type="number" id="hijriYear" min="1200" max="1600" placeholder="سنة" required>
          <input type="number" id="hijriMonth" min="1" max="12" placeholder="شهر" required>
          <input type="number" id="hijriDay" min="1" max="30" placeholder="يوم" required>
        </div>
        <span class="input-icon" style="top: 38px;"><i class="fa-solid fa-moon"></i></span>
      </div>
      <button type="submit"><i class="fa-solid fa-calculator"></i> احسب العمر</button>
    </form>
    <div class="result" id="result" style="display:none;"></div>
  </div>
  <div class="ad-box" id="adBox">
    <a href="https://wa.me/966591662458" target="_blank" style="display:flex;align-items:center;justify-content:center;width:100%;height:100%;text-decoration:none;color:inherit;">
      <i class="fa-brands fa-whatsapp" style="font-size:1.6rem;margin-left:10px;"></i>
      <span>إعلان: تواصل معنا للإعلان عبر الواتساب!</span>
    </a>
  </div>
  <script>
    // تحويل التاريخ الميلادي إلى هجري (تقريبي)
    function gregorianToHijri(gy, gm, gd) {
      var jd = (1461 * (gy + 4800 + (gm - 14) / 12)) / 4 + (367 * (gm - 2 - 12 * ((gm - 14) / 12))) / 12 - (3 * ((gy + 4900 + (gm - 14) / 12) / 100)) / 4 + gd - 32075;
      var l = jd - 1948440 + 10632;
      var n = Math.floor((l - 1) / 10631);
      l = l - 10631 * n + 354;
      var j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) + (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));
      l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
      var hm = Math.floor((24 * l) / 709);
      var hd = l - Math.floor((709 * hm) / 24);
      var hy = 30 * n + j - 30;
      return { hy: hy, hm: hm, hd: hd };
    }
    function hijriToGregorian(hy, hm, hd) {
      var jd = Math.floor((11 * hy + 3) / 30) + 354 * hy + 30 * hm - Math.floor((hm - 1) / 2) + hd + 1948440 - 385;
      var l = jd + 68569;
      var n = Math.floor((4 * l) / 146097);
      l = l - Math.floor((146097 * n + 3) / 4);
      var i = Math.floor((4000 * (l + 1)) / 1461001);
      l = l - Math.floor((1461 * i) / 4) + 31;
      var j = Math.floor((80 * l) / 2447);
      var gd = l - Math.floor((2447 * j) / 80);
      l = Math.floor(j / 11);
      var gm = j + 2 - 12 * l;
      var gy = 100 * (n - 49) + i + l;
      return { gy: gy, gm: gm, gd: gd };
    }
    function calculateAge(from, to) {
      let years = to.getFullYear() - from.getFullYear();
      let months = to.getMonth() - from.getMonth();
      let days = to.getDate() - from.getDate();
      if (days < 0) {
        months--;
        days += new Date(to.getFullYear(), to.getMonth(), 0).getDate();
      }
      if (months < 0) {
        years--;
        months += 12;
      }
      return { years, months, days };
    }
    // تبديل حقول الإدخال حسب نوع التقويم
    document.getElementById('calendarType').addEventListener('change', function() {
      if (this.value === 'gregorian') {
        document.getElementById('gregorianInput').style.display = '';
        document.getElementById('hijriInput').style.display = 'none';
        document.getElementById('birthDate').required = true;
        document.getElementById('hijriYear').required = false;
        document.getElementById('hijriMonth').required = false;
        document.getElementById('hijriDay').required = false;
      } else {
        document.getElementById('gregorianInput').style.display = 'none';
        document.getElementById('hijriInput').style.display = '';
        document.getElementById('birthDate').required = false;
        document.getElementById('hijriYear').required = true;
        document.getElementById('hijriMonth').required = true;
        document.getElementById('hijriDay').required = true;
      }
    });
    document.getElementById('ageForm').addEventListener('submit', function() {
      const calendarType = document.getElementById('calendarType').value;
      let birthDateStr, birthDate, birthHijri, birthGregorian;
      let today = new Date();
      let todayHijri = gregorianToHijri(today.getFullYear(), today.getMonth() + 1, today.getDate());
      let todayGregorian = today;
      if (calendarType === 'gregorian') {
        birthDateStr = document.getElementById('birthDate').value;
        if (!birthDateStr) return;
        birthDate = new Date(birthDateStr);
        birthHijri = gregorianToHijri(birthDate.getFullYear(), birthDate.getMonth() + 1, birthDate.getDate());
        birthGregorian = birthDate;
      } else {
        const hy = parseInt(document.getElementById('hijriYear').value);
        const hm = parseInt(document.getElementById('hijriMonth').value);
        const hd = parseInt(document.getElementById('hijriDay').value);
        if (!hy || !hm || !hd) return;
        const g = hijriToGregorian(hy, hm, hd);
        birthDate = new Date(g.gy, g.gm - 1, g.gd);
        birthHijri = { hy, hm, hd };
        birthGregorian = birthDate;
      }
      const ageGregorian = calculateAge(birthGregorian, todayGregorian);
      const birthHijriDate = new Date(hijriToGregorian(birthHijri.hy, birthHijri.hm, birthHijri.hd).gy, hijriToGregorian(birthHijri.hy, birthHijri.hm, birthHijri.hd).gm - 1, hijriToGregorian(birthHijri.hy, birthHijri.hm, birthHijri.hd).gd);
      const todayHijriDate = new Date(hijriToGregorian(todayHijri.hy, todayHijri.hm, todayHijri.hd).gy, hijriToGregorian(todayHijri.hy, todayHijri.hm, todayHijri.hd).gm - 1, hijriToGregorian(todayHijri.hy, todayHijri.hm, todayHijri.hd).gd);
      const ageHijri = calculateAge(birthHijriDate, todayHijriDate);
      // تفاصيل إضافية
      const diffMs = todayGregorian - birthGregorian;
      const daysLived = Math.floor(diffMs / (1000 * 60 * 60 * 24));
      const weeksLived = Math.floor(daysLived / 7);
      const monthsLived = ageGregorian.years * 12 + ageGregorian.months;
      const hoursLived = Math.floor(diffMs / (1000 * 60 * 60));
      const minutesLived = Math.floor(diffMs / (1000 * 60));
      // تقدير كم تبقى من عمرك (متوسط 75 سنة)
      const avgLife = 75;
      const yearsLeft = Math.max(0, avgLife - ageGregorian.years);
      const daysLeft = Math.max(0, Math.floor((avgLife * 365.25) - daysLived));
      // رسالة تحفيزية
      const messages = [
        "تذكر أن كل يوم هو فرصة جديدة!",
        "العمر مجرد رقم، والأهم هو الإنجاز والسعادة.",
        "استمتع بكل لحظة في حياتك!",
        "اجعل كل يوم يستحق أن يُذكر.",
        "الحياة قصيرة، فلا تؤجل أحلامك!"
      ];
      const msg = messages[Math.floor(Math.random() * messages.length)];
      document.getElementById('result').style.display = 'block';
      document.getElementById('result').innerHTML =
        `<b>العمر بالميلادي:</b><br>${ageGregorian.years} سنة، ${ageGregorian.months} شهر، ${ageGregorian.days} يوم<br><br>` +
        `<b>العمر بالهجري:</b><br>${ageHijri.years} سنة، ${ageHijri.months} شهر، ${ageHijri.days} يوم<br><hr>` +
        `<b>لقد عشت حتى الآن:</b><br>` +
        `${daysLived.toLocaleString()} يوم<br>` +
        `${weeksLived.toLocaleString()} أسبوع<br>` +
        `${monthsLived.toLocaleString()} شهر<br>` +
        `${hoursLived.toLocaleString()} ساعة<br>` +
        `${minutesLived.toLocaleString()} دقيقة<br><br>` +
        `<b>تقدير كم تبقى من عمرك (متوسط ${avgLife} سنة):</b><br>` +
        `${yearsLeft} سنة (${daysLeft.toLocaleString()} يوم تقريباً)<br><hr>` +
        `<span style='color:#6e8efb;font-weight:bold;'>${msg}</span>`;
    });
  </script>
</body>
</html> 